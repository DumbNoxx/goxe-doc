---
import { getEntry } from "astro:content";
import { LinkCard } from "@astrojs/starlight/components";

const config = getEntry("goxeData", "goxe-config");
if (!config) {
    throw new Error("No se encontró la configuración de Goxe en el JSON");
}
interface Props {
    extension: string;
    os: string;
    architecture: string;
}

const { version } = (await config).data;
const { extension, os, architecture = "" } = Astro.props as Props;
---

<LinkCard
    title=`Download .${extension} (${architecture === "amd" ? "" : architecture.toUpperCase()}x64)`
    href=`https://github.com/DumbNoxx/goxe/releases/download/v${version}/Goxe_${version}_${os}_${architecture}64.${extension}`
/>
